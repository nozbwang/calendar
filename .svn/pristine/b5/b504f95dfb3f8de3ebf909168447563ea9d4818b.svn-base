package com.zbwang.calendar.domain;

import java.util.Set;

import org.apache.commons.collections.CollectionUtils;
import org.apache.commons.lang.StringUtils;

public class BookSearchParam {

	private static final String FLAG_READ = "1";
	private static final String FLAG_UNREAD = "0";
	private String keyword;
	private Short buyFlag;
	private String readFlag;
	private String bookType;
	private Set<Integer> readBookIds;

	public String getKeyword() {
		return StringUtils.trimToNull(keyword);
	}

	public void setKeyword(String keyword) {
		this.keyword = keyword;
	}

	public Short getBuyFlag() {
		return buyFlag;
	}

	public void setBuyFlag(Short buyFlag) {
		this.buyFlag = buyFlag;
	}

	public boolean searchReadBook() {
		return FLAG_READ.equals(readFlag);
	}

	public boolean searchUnReadBook() {
		return FLAG_UNREAD.equals(readFlag);
	}

	public String getReadFlag() {
		return readFlag;
	}

	public void setReadFlag(String readFlag) {
		this.readFlag = readFlag;
	}

	public Set<Integer> getReadBookIds() {
		return readBookIds;
	}

	public void setReadBookIds(Set<Integer> readBookIds) {
		this.readBookIds = readBookIds;
	}

	public boolean haveReadNoBooks() {
		return CollectionUtils.isEmpty(readBookIds);
	}

	public boolean haveReadBooks() {
		return CollectionUtils.isNotEmpty(readBookIds);
	}

	public boolean needSetReadBookIds() {
		return readFlag != null;
	}

	public String getBookType() {
		return StringUtils.trimToNull(bookType);
	}

	public void setBookType(String bookType) {
		this.bookType = bookType;
	}

	public String getSearchCondition() {
		StringBuilder searchCondition = new StringBuilder();
		searchCondition.append("readFlag=").append(StringUtils.trimToEmpty(readFlag));
		if (buyFlag != null) {
			searchCondition.append("&buyFlag=").append(buyFlag);
		}
		searchCondition.append("&bookType=").append(StringUtils.trimToEmpty(bookType));
		return searchCondition.toString();
	}
}
